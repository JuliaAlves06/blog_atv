[
  {
    "objectID": "posts/atividade2/index.html",
    "href": "posts/atividade2/index.html",
    "title": "Atividade 2",
    "section": "",
    "text": "Abaixo terá o código da atividade 2 com o código explicado em comentários.\n\nimport requests\nimport folium\nimport json\n\n# Etapa 1: Definições iniciais\nAPI_TOKEN = \"d1a401756017d338d7952e806dbba6d718d09c130a6261fd2b25bc2bb5b5a079\"\ncodigo_linha = \"709EX1\"\n\n# Etapa 2: Autenticação na API\nsessao = requests.Session()\nurl_login = f\"http://api.olhovivo.sptrans.com.br/v2.1/Login/Autenticar?token={API_TOKEN}\"\nlogin = sessao.post(url_login)\n\nif login.status_code == 200 and login.json() is True:\n    print(\"Login realizado com sucesso!\")\nelse:\n    print(\"Falha na autenticação. Confira o token.\")\n\n# Etapa 3: Obter paradas da linha\nurl_paradas = f\"http://api.olhovivo.sptrans.com.br/v2.1/ParadaLinha?codigoLinha={codigo_linha}\"\ndados_paradas = sessao.get(url_paradas).json()\nif isinstance(dados_paradas, str):\n    dados_paradas = json.loads(dados_paradas)\nelif isinstance(dados_paradas, dict) and \"value\" in dados_paradas:\n    dados_paradas = dados_paradas[\"value\"]\n\n# Etapa 4: Posições dos ônibus em tempo real\nurl_onibus = f\"http://api.olhovivo.sptrans.com.br/v2.1/Posicao?codigoLinha={codigo_linha}\"\ndados_onibus = sessao.get(url_onibus).json()\nif isinstance(dados_onibus, str):\n    dados_onibus = json.loads(dados_onibus)\nelif isinstance(dados_onibus, dict) and \"value\" in dados_onibus:\n    dados_onibus = dados_onibus[\"value\"]\n\n# Etapa 5: Trajeto da linha\nurl_trajeto = f\"http://api.olhovivo.sptrans.com.br/v2.1/Linha/Trajeto?codigoLinha={codigo_linha}\"\ndados_trajeto = sessao.get(url_trajeto).json()\nif isinstance(dados_trajeto, str):\n    dados_trajeto = json.loads(dados_trajeto)\nelif isinstance(dados_trajeto, dict) and \"value\" in dados_trajeto:\n    dados_trajeto = dados_trajeto[\"value\"]\n\n# Extrair coordenadas do trajeto\ncoords_trajeto = []\nif isinstance(dados_trajeto, list):\n    for ponto in dados_trajeto:\n        if \"Latitude\" in ponto and \"Longitude\" in ponto:\n            coords_trajeto.append([ponto[\"Latitude\"], ponto[\"Longitude\"]])\n\n# Etapa 6: Construção do mapa\nmapa = folium.Map(location=[-23.55, -46.63], zoom_start=12)\n\n# Adicionar trajeto (linha verde)\nif coords_trajeto:\n    folium.PolyLine(coords_trajeto, color=\"green\", weight=4, opacity=0.6,\n                    tooltip=\"Percurso da linha\").add_to(mapa)\n\n# Adicionar paradas (azul)\nif isinstance(dados_paradas, list):\n    for parada in dados_paradas:\n        if \"Latitude\" in parada and \"Longitude\" in parada:\n            folium.Marker(\n                location=[parada[\"Latitude\"], parada[\"Longitude\"]],\n                popup=f\"Parada: {parada.get('Denominacao', 'Sem nome')}\",\n                icon=folium.Icon(color=\"blue\", icon=\"info-sign\")\n            ).add_to(mapa)\n\n# Adicionar ônibus em tempo real (vermelho)\nif isinstance(dados_onibus, dict) and \"vs\" in dados_onibus:\n    for veiculo in dados_onibus[\"vs\"]:\n        folium.Marker(\n            location=[veiculo[\"py\"], veiculo[\"px\"]],\n            popup=f\"Prefixo: {veiculo['p']}\",\n            icon=folium.Icon(color=\"red\", icon=\"bus\", prefix=\"fa\")\n        ).add_to(mapa)\n\n# Etapa 7: Exportar mapa\nmapa.save(\"linha_onibus.html\")\nprint(\"Mapa pronto: abra 'linha_onibus.html' no navegador.\")\n\nLogin realizado com sucesso!\nMapa pronto: abra 'linha_onibus.html' no navegador."
  },
  {
    "objectID": "posts/atividade3/index.html",
    "href": "posts/atividade3/index.html",
    "title": "Atividade 36",
    "section": "",
    "text": "Abaixo terá o código da atividade 3 com o código explicado em comentários.\n\nimport numpy as np\nimport pandas as pd\nimport plotly.express as px\n\n# Etapa 1: Carregar dados de entrada (X = anos de estudo, Y = salário)\ndados_x = np.loadtxt(\"X.txt\")\ndados_y = np.loadtxt(\"Y.txt\")\n\n# Ajustar formato para vetor coluna\nX = dados_x.reshape(-1, 1)\nY = dados_y.reshape(-1, 1)\n\n# Etapa 2: Construir matriz de regressão\n# Fórmula: β = (XᵀX)⁻¹ XᵀY\nmatriz_X = np.column_stack((np.ones(len(X)), X))\ncoeficientes = np.linalg.inv(matriz_X.T @ matriz_X) @ (matriz_X.T @ Y)\n\nintercepto = float(coeficientes[0])   # valor inicial da reta\ninclinação = float(coeficientes[1])   # coeficiente angular\n\nprint(\"Parâmetros da regressão:\")\nprint(\"Intercepto (a) =\", intercepto)\nprint(\"Inclinação (b) =\", inclinação)\n\n# Etapa 3: Criar DataFrame com pontos e reta ajustada\ntabela = pd.DataFrame({\n    \"anos_estudo\": dados_x,\n    \"salario\": dados_y,\n    \"reta\": intercepto + inclinação * dados_x\n})\n\n# Etapa 4: Construir gráfico interativo\ngrafico = px.scatter(\n    tabela,\n    x=\"anos_estudo\",\n    y=\"salario\",\n    title=\"Relação entre Anos de Estudo e Salário\",\n    labels={\"anos_estudo\": \"Anos de Estudo\", \"salario\": \"Salário (R$)\"}\n)\n\n# Adicionar linha da regressão\ngrafico.add_traces(\n    px.line(\n        tabela,\n        x=\"anos_estudo\",\n        y=\"reta\"\n    ).data\n)\n\n# Exibir gráfico\ngrafico.show()\n\n/tmp/ipykernel_27691/3517581214.py:18: DeprecationWarning:\n\nConversion of an array with ndim &gt; 0 to a scalar is deprecated, and will error in future. Ensure you extract a single element from your array before performing this operation. (Deprecated NumPy 1.25.)\n\n/tmp/ipykernel_27691/3517581214.py:19: DeprecationWarning:\n\nConversion of an array with ndim &gt; 0 to a scalar is deprecated, and will error in future. Ensure you extract a single element from your array before performing this operation. (Deprecated NumPy 1.25.)\n\n\n\nParâmetros da regressão:\nIntercepto (a) = 373.93446839132355\nInclinação (b) = 991.6278332981952"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this blog"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "blog_atv",
    "section": "",
    "text": "Atividade 3\n\n\n\npython\n\ncódigo\n\n\n\n\n\n\n\n\n\nNov 24, 2025\n\n\nJulia\n\n\n\n\n\n\n\n\n\n\n\n\nAtividade 1\n\n\n\npython\n\ncódigo\n\n\n\n\n\n\n\n\n\nNov 24, 2025\n\n\nJulia\n\n\n\n\n\n\n\n\n\n\n\n\nAtividade 2\n\n\n\npython\n\ncódigo\n\n\n\n\n\n\n\n\n\nNov 24, 2025\n\n\nJulia\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/atividade1/index.html",
    "href": "posts/atividade1/index.html",
    "title": "Atividade 1",
    "section": "",
    "text": "Abaixo terá o código da atividade 1 com o código explicado em comentários.\n\nimport requests\nimport pandas as pd\nimport plotly.express as px\nimport calendar\nfrom datetime import datetime\n\ndef consultar_dolar(mes_ano: str):\n    # Etapa 1: transformar \"MMYYYY\" em datas inicial e final\n    inicio = datetime.strptime(mes_ano, \"%m%Y\")\n    ultimo_dia = calendar.monthrange(inicio.year, inicio.month)[1]\n    fim = inicio.replace(day=ultimo_dia)\n\n    # Ajustar formato para a API\n    dt_inicio = inicio.strftime(\"%m-%d-%Y\")\n    dt_fim = fim.strftime(\"%m-%d-%Y\")\n\n    # Etapa 2: chamada à API PTAX\n    url = (\n        \"https://olinda.bcb.gov.br/olinda/servico/PTAX/versao/v1/odata/\"\n        f\"CotacaoDolarPeriodo(dataInicial=@dataInicial,dataFinalCotacao=@dataFinalCotacao)?\"\n        f\"@dataInicial='{dt_inicio}'&@dataFinalCotacao='{dt_fim}'&$top=1000&$format=json\"\n    )\n    resposta = requests.get(url)\n    registros = resposta.json().get(\"value\", [])\n\n    if not registros:\n        print(\"Nenhum dado encontrado para o período informado.\")\n        return\n\n    # Etapa 3: organizar os dados em DataFrame\n    df = pd.DataFrame(registros)\n    df[\"dataHoraCotacao\"] = pd.to_datetime(df[\"dataHoraCotacao\"])\n    df[\"dia\"] = df[\"dataHoraCotacao\"].dt.date\n    df = df.sort_values(\"dia\")\n\n    # Criar série diária completa\n    todos_dias = pd.date_range(inicio, fim, freq=\"D\")\n    df_diario = pd.DataFrame({\"dia\": todos_dias.date})\n    df_diario = df_diario.merge(df[[\"dia\", \"cotacaoCompra\"]], on=\"dia\", how=\"left\")\n\n    # Tratar valores ausentes\n    df_diario[\"cotacaoCompra\"] = pd.to_numeric(df_diario[\"cotacaoCompra\"], errors=\"coerce\")\n    df_diario[\"cotacaoCompra\"].fillna(method=\"ffill\", inplace=True)\n\n    # Etapa 4: gerar gráfico\n    grafico = px.line(\n        df_diario,\n        x=\"dia\",\n        y=\"cotacaoCompra\",\n        title=f\"Cotação do Dólar - {mes_ano}\",\n        labels={\"dia\": \"Data\", \"cotacaoCompra\": \"Valor (R$)\"}\n    )\n    grafico.show()\n\n# Chamada correta\nconsultar_dolar(\"082017\")\n\n/tmp/ipykernel_25089/142505277.py:43: FutureWarning:\n\nA value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.\nThe behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.\n\nFor example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.\n\n\n\n/tmp/ipykernel_25089/142505277.py:43: FutureWarning:\n\nSeries.fillna with 'method' is deprecated and will raise in a future version. Use obj.ffill() or obj.bfill() instead."
  }
]